<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux基础操作 | 苍晓coding</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/first.jpg">
    <meta name="description" content="苍晓的笔记">
    
    <link rel="preload" href="/docs/assets/css/0.styles.8923dc83.css" as="style"><link rel="preload" href="/docs/assets/js/app.869e6f5c.js" as="script"><link rel="preload" href="/docs/assets/js/2.2de16177.js" as="script"><link rel="preload" href="/docs/assets/js/5.4d185536.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.3b050d7a.js"><link rel="prefetch" href="/docs/assets/js/11.5f1be6b1.js"><link rel="prefetch" href="/docs/assets/js/12.d0219ad2.js"><link rel="prefetch" href="/docs/assets/js/13.ee7aee32.js"><link rel="prefetch" href="/docs/assets/js/14.5d8d5cfb.js"><link rel="prefetch" href="/docs/assets/js/15.a41954e3.js"><link rel="prefetch" href="/docs/assets/js/16.18a1898f.js"><link rel="prefetch" href="/docs/assets/js/17.e27d4515.js"><link rel="prefetch" href="/docs/assets/js/18.ac033880.js"><link rel="prefetch" href="/docs/assets/js/19.6dbf9268.js"><link rel="prefetch" href="/docs/assets/js/20.c0dce3c2.js"><link rel="prefetch" href="/docs/assets/js/21.fae46336.js"><link rel="prefetch" href="/docs/assets/js/22.1c198356.js"><link rel="prefetch" href="/docs/assets/js/3.91a78229.js"><link rel="prefetch" href="/docs/assets/js/4.a9b5c8b4.js"><link rel="prefetch" href="/docs/assets/js/6.c544dc59.js"><link rel="prefetch" href="/docs/assets/js/7.807c9739.js"><link rel="prefetch" href="/docs/assets/js/8.5f52d19e.js"><link rel="prefetch" href="/docs/assets/js/9.7125e916.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.8923dc83.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/first.jpg" alt="苍晓coding" class="logo"> <span class="site-name can-hide">苍晓coding</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/Linux/Linux基础操作.html" class="nav-link">Linux</a></div><div class="nav-item"><a href="/docs/MySQL/MySQL.html" class="nav-link">MySQL</a></div><div class="nav-item"><a href="/docs/Redis/Redis基础.html" class="nav-link">Redis</a></div><div class="nav-item"><a href="/docs/kafka/kafka基础.html" class="nav-link">kafka</a></div> <a href="https://github.com/cangxiaocoder/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/Linux/Linux基础操作.html" class="nav-link">Linux</a></div><div class="nav-item"><a href="/docs/MySQL/MySQL.html" class="nav-link">MySQL</a></div><div class="nav-item"><a href="/docs/Redis/Redis基础.html" class="nav-link">Redis</a></div><div class="nav-item"><a href="/docs/kafka/kafka基础.html" class="nav-link">kafka</a></div> <a href="https://github.com/cangxiaocoder/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/docs/Linux/Linux基础操作" class="sidebar-heading clickable open"><span>Linux系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/pages/77bfd1/" aria-current="page" class="active sidebar-link">Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#linux" class="sidebar-link">Linux</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#虚拟机克隆" class="sidebar-link">虚拟机克隆</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#网络管理" class="sidebar-link">网络管理</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#linux系统管理" class="sidebar-link">Linux系统管理</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#时间日期类命令" class="sidebar-link">时间日期类命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#用户权限类命令" class="sidebar-link">用户权限类命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#用户组管理命令" class="sidebar-link">用户组管理命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#文件权限类命令" class="sidebar-link">文件权限类命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#搜索查找命令" class="sidebar-link">搜索查找命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#压缩解压命令" class="sidebar-link">压缩解压命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#磁盘管理命令" class="sidebar-link">磁盘管理命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#进程管理命令" class="sidebar-link">进程管理命令</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#系统定时任务" class="sidebar-link">系统定时任务</a></li><li class="sidebar-sub-header level2"><a href="/docs/pages/77bfd1/#软件包管理" class="sidebar-link">软件包管理</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/docs/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/docs/categories/?category=Linux" title="分类" data-v-06225672>Linux</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/cangxiaocoder" target="_blank" title="作者" class="beLink" data-v-06225672>苍晓</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-12-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Linux基础操作<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h2> <h2 id="虚拟机克隆"><a href="#虚拟机克隆" class="header-anchor">#</a> 虚拟机克隆</h2> <h3 id="_1、配置修改"><a href="#_1、配置修改" class="header-anchor">#</a> 1、配置修改</h3> <h6 id="修改主机名"><a href="#修改主机名" class="header-anchor">#</a> 修改主机名</h6> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/hostname
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="修改静态ip"><a href="#修改静态ip" class="header-anchor">#</a> 修改静态IP</h6> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens33
<span class="token comment">#修改IP</span>
<span class="token comment">#修改UUID</span>
uuidgen <span class="token comment">#生产UUID</span>
<span class="token comment">#修改完成 重启网络</span>
systemctl  restart  network
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2、集群分发脚本xsync"><a href="#_2、集群分发脚本xsync" class="header-anchor">#</a> 2、集群分发脚本xsync</h3> <h5 id="scp-secure-copy-安全拷贝"><a href="#scp-secure-copy-安全拷贝" class="header-anchor">#</a> scp(secure copy)安全拷贝</h5> <ol><li><p>scp定义</p> <p>scp可以实现服务器雨服务器之间的数据拷贝</p></li> <li><p>基本语法</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">scp</span>   <span class="token parameter variable">-r</span>   <span class="token variable">$pdir</span>/<span class="token variable">$fname</span>          <span class="token variable">$user</span>@host:<span class="token variable">$pdir</span>/<span class="token variable">$fname</span>
<span class="token comment">#命令 递归  要拷贝的文件路径/名称   目的地用户@主机：目的地路径/名称</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h5 id="rsync远程同步工具"><a href="#rsync远程同步工具" class="header-anchor">#</a> rsync远程同步工具</h5> <p>rsync主要用于备份和镜像，具有速度快、避免复制相同内容和支持符号链接的优点。</p> <p>rsync和scp的区别：用rsync做文件复制速度比scp快，rsync只对差异文件做更新。scp是把所有文件都复制过去</p> <ol><li><p>基本用法</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span>      <span class="token variable">$pdir</span>/<span class="token variable">$fname</span>           <span class="token variable">$user</span>@host:<span class="token variable">$pdir</span>/<span class="token variable">$fname</span>
<span class="token comment">#命令 选项参数  要拷贝的文件路径/名称   目的地用户@主机：目的地路径/名称</span>
<span class="token function">rsync</span> <span class="token parameter variable">-av</span> a.txt root@192.168.192.103:/opt/module/a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>-a：归档拷贝</p> <p>-v：显示复制过程</p></li></ol> <h5 id="xsync远程同步工具"><a href="#xsync远程同步工具" class="header-anchor">#</a> xsync远程同步工具</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 判断参数个数</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-lt</span> <span class="token number">1</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> 缺少参数 <span class="token operator">!</span>
	exit<span class="token operator">!</span>
<span class="token keyword">fi</span>
<span class="token comment"># 遍历集群所有机器</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> centos7 centos7_2 centos7_3
<span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> <span class="token variable">$host</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
	<span class="token comment"># 遍历所有目录，挨个发送</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
	<span class="token keyword">do</span>
		<span class="token comment">#判断文件是否存在</span>
		<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
			<span class="token keyword">then</span> 
				<span class="token comment">#获取父目录</span>
				<span class="token assign-left variable">pdir</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">cd</span> <span class="token parameter variable">-P</span> <span class="token punctuation">$(</span>dirname $file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
				<span class="token comment">#获取当前文件名称</span>
				<span class="token assign-left variable">fname</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $file<span class="token variable">)</span></span>
				<span class="token function">ssh</span> <span class="token variable">$host</span> <span class="token string">&quot;mkdir -p <span class="token variable">$pdir</span>&quot;</span>
				<span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token variable">$pdir</span>/<span class="token variable">$fname</span> <span class="token variable">$host</span><span class="token builtin class-name">:</span><span class="token variable">$pdir</span>
			<span class="token keyword">else</span>
				<span class="token builtin class-name">echo</span> <span class="token variable">$file</span> does not exists<span class="token operator">!</span>
		<span class="token keyword">fi</span>
	<span class="token keyword">done</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_3、jps-未-找-到-命-令"><a href="#_3、jps-未-找-到-命-令" class="header-anchor">#</a> 3、jps: 未 找 到 命 令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 更新依赖</span>
yum <span class="token function">install</span> java-1.8.0-openjdk-devel.x86_64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="网络管理"><a href="#网络管理" class="header-anchor">#</a> 网络管理</h2> <p>WMware 提供的三种网络模式</p> <ul><li><p>桥接模式</p> <p>虚拟机直接连接外部物理网络的模式，直接起到了网桥的作用。这种模式下，虚拟机可直接访问外部网络，并对外部网络是可见的。</p></li> <li><p>NAT模式</p> <p>虚拟机和主键构建一个专用网络，并通过虚拟机网络地址转换（NAT）设备对IP进行转换。虚拟机通过共享主键IP可以访问外部网络，但外部网络无法访问虚拟机。</p></li> <li><p>仅主机模式</p> <p>虚拟机只与主机共享一个专用网络，与外部网络无法通信。</p></li></ul> <h3 id="网络配置"><a href="#网络配置" class="header-anchor">#</a> 网络配置</h3> <p>编辑 -&gt; 寻网络编辑器，配置网络是要保持前面保持一致，192.168.192.XXX</p> <img src="/docs/assets/img/image-20220716164517267.e331354f.png" alt="image-20220716164517267" style="zoom:79%;"> <h4 id="修改配置文件"><a href="#修改配置文件" class="header-anchor">#</a> 修改配置文件</h4> <ol><li><p>ifconfig 查看网络接口配置</p></li> <li><p>使用 ping 命令测试主机连通性</p></li> <li><p>修改IP地址</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span>
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token comment">#DHCP 将DHCP修改为static，动态获取改为静态IP地址</span>
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">&quot;static&quot;</span>
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;35c2c24a-4bc3-496a-aea6-640f8acfd3b6&quot;</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token comment">#IP 地址，添加静态IP</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.192.100
<span class="token comment">#配置网关 要和虚拟网络编辑器中的网关配置一致</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.192.2
<span class="token comment">#配置域名解析器</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">192.168</span>.192.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="配置主机名"><a href="#配置主机名" class="header-anchor">#</a> 配置主机名</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>hostnamectl sethostname centos7
<span class="token comment">#查看当前服务器主机名称：</span>
<span class="token function">hostname</span>
修改主机名
<span class="token function">vim</span> /etc/hostname
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h2 id="linux系统管理"><a href="#linux系统管理" class="header-anchor">#</a> Linux系统管理</h2> <h3 id="systemctl"><a href="#systemctl" class="header-anchor">#</a> systemctl</h3> <ol><li><p>基本语法：<code>systemctl start|stop|status|restart 服务名</code> <code>systemctl disable|enable服务名</code></p></li> <li><p>centos7 保留NetworkManager服务， 关闭network服务；</p></li></ol> <h3 id="系统运行级别"><a href="#系统运行级别" class="header-anchor">#</a> 系统运行级别</h3> <p><img src="/docs/assets/img/image-20220717170620560.ce0adc2a.png" alt="image-20220717170620560"></p> <p><strong>查看默认级别</strong>:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/inittab
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Linux系统有7种运行级别(runlevel):常用的是级别3和5</p> <ul><li>运行级别0:系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</li> <li>运行级别1:单用户工作状态，root权限，用于系统维护，禁止远程登陆</li> <li>运行级别2:用户状态(没有NFS)，不支持网络</li> <li>运行级别3:完全的多用户状态(有NFS)，登陆后进入控制台命令行模式运行级别4:系统未使用，保留</li> <li>运行级别5:×11控制台，登陆后进入图形GUI模式</li> <li>运行级别6:系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动</li></ul> <h3 id="配置服务开机启动和关闭防火墙"><a href="#配置服务开机启动和关闭防火墙" class="header-anchor">#</a> 配置服务开机启动和关闭防火墙</h3> <p>列出所有服务名</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl list-unit-files
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>服务自启动开启关闭</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl disable<span class="token operator">|</span><span class="token builtin class-name">enable</span> 服务名
systemctl status 服务名 或 systemctl status 服务名
<span class="token comment">#例：</span>
systemctl disable<span class="token operator">|</span><span class="token builtin class-name">enable</span> firewalld
systemctl status firewalld 或 systemctl status firewalld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="关机重启"><a href="#关机重启" class="header-anchor">#</a> 关机重启</h3> <p>基本语法</p> <ol><li>sync	将数据有内存同步到硬盘中</li> <li>halt    停机，关闭系统，但不断电</li> <li>poweroff    关机，断电</li> <li>reboot    重启， 等同于 shutdown -r now</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#关机 默认一分钟之后关机</span>
<span class="token function">shutdown</span>
<span class="token comment">#取消关机</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-c</span> 
<span class="token comment">#定时关机 </span>
<span class="token function">shutdown</span> <span class="token number">18</span>:00  <span class="token function">shutdown</span> 时间

<span class="token function">shutdown</span> <span class="token parameter variable">-H</span> 停机
<span class="token function">shutdown</span> <span class="token parameter variable">-r</span> 重启
<span class="token function">shutdown</span> now 立刻关机
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <h4 id="_1、帮助命令"><a href="#_1、帮助命令" class="header-anchor">#</a> 1、帮助命令</h4> <h5 id="_1-1、man-获得帮助信息"><a href="#_1-1、man-获得帮助信息" class="header-anchor">#</a> 1.1、man 获得帮助信息</h5> <p>基本语法：[man  命令或配置文件]</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg:man <span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_1-2、help-获得shell内置命令帮助信息"><a href="#_1-2、help-获得shell内置命令帮助信息" class="header-anchor">#</a> 1.2、help 获得shell内置命令帮助信息</h5> <p>一部分基础功能的系统命令是直接内嵌在shell中的，系统加载启动之后会随着shell一起加载，常驻系统内存中。这部分命令被称为“内置命令”；相应的其它命令被称为“外部命令”。</p> <p>基本语法：help 命令 （获取shell内置命令的帮助信息）</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg:help <span class="token builtin class-name">cd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_1-3、常用快捷键"><a href="#_1-3、常用快捷键" class="header-anchor">#</a> 1.3、常用快捷键</h5> <p>ctrl+c：停止进程</p> <p>ctrl+l：清屏，等同于clear，彻底清屏：reset</p> <p>tab：提示</p> <p>上下键：执行过的命令</p> <h4 id="_2、文件目录类"><a href="#_2、文件目录类" class="header-anchor">#</a> 2、文件目录类</h4> <h5 id="pwd-显示当前工作目录绝对路径"><a href="#pwd-显示当前工作目录绝对路径" class="header-anchor">#</a> pwd：显示当前工作目录绝对路径</h5> <h5 id="ls-列出目录内容"><a href="#ls-列出目录内容" class="header-anchor">#</a> ls：列出目录内容</h5> <h5 id="cd-切换目录"><a href="#cd-切换目录" class="header-anchor">#</a> cd：切换目录</h5> <h5 id="mkdir-创建一个空的目录"><a href="#mkdir-创建一个空的目录" class="header-anchor">#</a> mkdir：创建一个空的目录</h5> <p>make directory</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg:mkdir a
eg:mkdir <span class="token parameter variable">-p</span> a/b/c <span class="token comment">#-p：创建多层目录</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="rmdir-上次一个空目录"><a href="#rmdir-上次一个空目录" class="header-anchor">#</a> rmdir：上次一个空目录</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg:mkdir a
eg:mkdir <span class="token parameter variable">-p</span> a/b/c <span class="token comment">#-p：删除多层空目录，如果abc都为空目录，则都删除</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="touch-创建一个空文件"><a href="#touch-创建一个空文件" class="header-anchor">#</a> touch：创建一个空文件</h5> <h5 id="cp-复制文件或目录"><a href="#cp-复制文件或目录" class="header-anchor">#</a> cp：复制文件或目录</h5> <p>-r：递归复制整个文件夹</p> <p>\cp：强制覆盖不提示</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">cp</span> <span class="token parameter variable">-r</span> a b <span class="token comment">#将a文件夹复制到b目录</span>
<span class="token punctuation">\</span>cp <span class="token parameter variable">-r</span> a b <span class="token comment">#将a文件夹复制到b目录</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="rm-删除文件或目录"><a href="#rm-删除文件或目录" class="header-anchor">#</a> rm：删除文件或目录</h5> <p>-r：递归删除</p> <p>-f：不提示直接删除</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /a<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="mv-移动文件与目录或重命名"><a href="#mv-移动文件与目录或重命名" class="header-anchor">#</a> mv：移动文件与目录或重命名</h5> <h5 id="cat-查看文件内容"><a href="#cat-查看文件内容" class="header-anchor">#</a> cat：查看文件内容</h5> <h5 id="more-文件内容分屏查看器"><a href="#more-文件内容分屏查看器" class="header-anchor">#</a> more：文件内容分屏查看器‘</h5> <p>more是一个基于VI编辑器的文本过滤器，它以全屏幕的方式按业显示文本文件的内容。</p> <p>space：向下翻一页</p> <p>Enter：向上翻一行</p> <p>q：退出more</p> <p>ctrl+f：向下滚动一屏</p> <p>ctrl+b：返回上一屏</p> <p>=：输出当前行行号</p> <p>:f：输出文件名和当前行的行号</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">more</span> a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="less-分屏显示文件内容"><a href="#less-分屏显示文件内容" class="header-anchor">#</a> less：分屏显示文件内容</h5> <p>less是用来分屏查勘表文件内容，它的功能和more类似，但比more更加强大，支持各种显示终端。less显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大文件有叫搞效率。</p> <p>q：退出less</p> <p>space：向下翻一页</p> <p>[pagedown]：向下翻一页</p> <p>[pageup]：向上翻一页</p> <p>/字符串：向下搜索[字符串]的功能；n：向下查找；N：向上查找</p> <p>?字符串：向上搜索[字符串]的功能；n：向上查找N：N：向下查找</p> <p>=：显示行号，字节数，百分比</p> <p>g：调到文件开始位置</p> <p>shift+g：调到文件结束位置</p> <h5 id="echo-输出内容到控制台"><a href="#echo-输出内容到控制台" class="header-anchor">#</a> echo：输出内容到控制台</h5> <p>-e：支持反斜线控制字符转换</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg: <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;hello<span class="token entity" title="\n">\n</span>world&quot;</span> <span class="token comment">#换行输出</span>
eg: <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token environment constant">$PATH</span> <span class="token comment">#换行输出</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="head-显示文件头部内容"><a href="#head-显示文件头部内容" class="header-anchor">#</a> head：显示文件头部内容</h5> <p>默认查看文件前10行内容</p> <p>-n：查看文件前n行内容</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">head</span> <span class="token parameter variable">-n</span> info <span class="token comment">#查看info文件前n行内容</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="tail-输出文件尾部内容"><a href="#tail-输出文件尾部内容" class="header-anchor">#</a> tail：输出文件尾部内容</h5> <p>默认查看文件最后10行内容</p> <p>-n：查看文件最后n行内容</p> <p>-f：实时追踪该文档的所有更新</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">tail</span> <span class="token parameter variable">-n</span> info <span class="token comment">#查看info文件后n行内容</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> info <span class="token comment">#追踪info文件的所有更新</span>
<span class="token function">tail</span> <span class="token parameter variable">-nf</span> info <span class="token comment">#查看info文件后n行内容并追踪</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="输出重定向-追加"><a href="#输出重定向-追加" class="header-anchor">#</a> &gt;输出重定向&gt;&gt;追加</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>eg: <span class="token function">ls</span> / <span class="token operator">&gt;</span> info <span class="token comment"># 便利根目录输出到info文件中</span>
eg: <span class="token function">ls</span> / <span class="token operator">&gt;&gt;</span> info <span class="token comment"># 便利根目录追加输出到info文件中</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="ln-软链接"><a href="#ln-软链接" class="header-anchor">#</a> ln 软链接</h5> <p>软链接也称为符号链接，类似于Windows的快捷方式，有自己的数据块，主要存放了链接其它文件的路径。</p> <p>ln -s [源文件或目录] [软链接名] （给原文件创建一个软链接）</p> <p>==如果使用rm -rf 软链接名/ 删除，会把软链接对于的真实目录下的内容删掉==</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/info info <span class="token comment">#链接到/opt/info目录</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/info/a.txt a.txt <span class="token comment">#链接到/opt/info/a.txt文件</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/info info <span class="token comment">#链接到/opt/info目录</span>
<span class="token builtin class-name">cd</span> info <span class="token comment">#进入链接info目录</span>
<span class="token builtin class-name">cd</span> <span class="token parameter variable">-P</span> info <span class="token comment">#进入链接的/opt/info目录</span>
<span class="token builtin class-name">pwd</span>  <span class="token comment"># 显示链接info</span>
<span class="token builtin class-name">pwd</span> <span class="token parameter variable">-P</span> <span class="token comment">#显示/opt/info目录</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> info<span class="token comment">#删除软链接文件</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> info/ <span class="token comment">#删除软链接和原始文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="/docs/assets/img/image-20220905225119700.70d7481c.png" alt="image-20220905225119700"></p> <h5 id="history查看已经执行过的历史命令"><a href="#history查看已经执行过的历史命令" class="header-anchor">#</a> history查看已经执行过的历史命令</h5> <p>history n 显示最后n个历史操作</p> <p>-c：清空历史命令</p> <p>!历史命令编号，执行对应的历史命令</p> <p><img src="/docs/assets/img/image-20220908214254879.7ecfd5be.png" alt="image-20220908214254879"></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">history</span> <span class="token parameter variable">-c</span>
<span class="token function">history</span> <span class="token number">10</span>
<span class="token operator">!</span><span class="token number">359</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="时间日期类命令"><a href="#时间日期类命令" class="header-anchor">#</a> 时间日期类命令</h2> <h5 id="date显示当前时间"><a href="#date显示当前时间" class="header-anchor">#</a> date显示当前时间</h5> <p>date：显示当前时间</p> <p>date +%Y：显示年份</p> <p>date +%m：显示月份</p> <p>date +%d：显示日期</p> <p>date +%S：显示当前秒</p> <p>date +%s：显示时间戳</p> <p>date &quot;+%Y-%m-%d  %H:%M:%S&quot;：显示日期，引号中的表述格式</p> <p><img src="/docs/assets/img/image-20220908215118556.5d8ca830.png" alt="image-20220908215118556"></p> <h5 id="date显示非当前时间"><a href="#date显示非当前时间" class="header-anchor">#</a> date显示非当前时间</h5> <p>-d：显示之前或之后的时间</p> <p>-s：设置当前时间</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date</span>
<span class="token number">2022</span>年 09月 08日 星期四 <span class="token number">21</span>:55:18 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date &quot;+%Y-%m-%d %H:%M:%S&quot;</span>
<span class="token number">2022</span>-09-08 <span class="token number">21</span>:55:52
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '-1 days ago'</span>
<span class="token number">2022</span>年 09月 09日 星期五 <span class="token number">21</span>:56:53 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '-1 hours ago'</span>
<span class="token number">2022</span>年 09月 08日 星期四 <span class="token number">22</span>:57:03 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '1 hours ago'</span>
<span class="token number">2022</span>年 09月 08日 星期四 <span class="token number">20</span>:57:10 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '1 month ago'</span>
<span class="token number">2022</span>年 08月 08日 星期一 <span class="token number">21</span>:57:23 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '1 Y ago'</span>
date: 无效的日期 “1 Y ago”
root@LAPTOP-R3Q9LUFD:/<span class="token comment"># date -d '1 year ago'</span>
<span class="token number">2021</span>年 09月 08日 星期三 <span class="token number">21</span>:57:34 CST
root@LAPTOP-R3Q9LUFD:/<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="用户权限类命令"><a href="#用户权限类命令" class="header-anchor">#</a> 用户权限类命令</h2> <h5 id="useradd-添加新用户"><a href="#useradd-添加新用户" class="header-anchor">#</a> useradd 添加新用户</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">useradd</span> zhangsan
<span class="token comment">#创建用户并指定用户主目录</span>
<span class="token function">useradd</span> <span class="token parameter variable">-d</span> /home/zs zhangsan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="passwd设置用户密码"><a href="#passwd设置用户密码" class="header-anchor">#</a> passwd设置用户密码</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">passwd</span> zhangsan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="id-查看用户是否存在"><a href="#id-查看用户是否存在" class="header-anchor">#</a> id 查看用户是否存在</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">id</span> zhangsan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="cat-etc-passwd查看创建类哪些用户"><a href="#cat-etc-passwd查看创建类哪些用户" class="header-anchor">#</a> cat /etc/passwd查看创建类哪些用户</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /etc/passwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="su-切换用户"><a href="#su-切换用户" class="header-anchor">#</a> su 切换用户</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#只切换用户不切换目录</span>
<span class="token function">su</span> zhangsan
<span class="token comment">#切换用户的同时切换主目录</span>
<span class="token function">su</span> - zhangsan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="userdel删除用户"><a href="#userdel删除用户" class="header-anchor">#</a> userdel删除用户</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">userdel</span> zhangsan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="who查看登录用户信息"><a href="#who查看登录用户信息" class="header-anchor">#</a> who查看登录用户信息</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># who</span>
root     pts/0        <span class="token number">2022</span>-12-17 <span class="token number">11</span>:22 <span class="token punctuation">(</span><span class="token number">113.116</span>.158.13<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="sudo-设置普通用户具有root权限"><a href="#sudo-设置普通用户具有root权限" class="header-anchor">#</a> sudo 设置普通用户具有root权限</h5> <p>修改配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/sudoers

<span class="token comment">#修改配置</span>
root    <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
zhangsan        <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="usermod修改用户"><a href="#usermod修改用户" class="header-anchor">#</a> usermod修改用户</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">usermod</span> <span class="token parameter variable">-g</span> group zhangsan
<span class="token function">usermod</span> <span class="token parameter variable">--help</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="用户组管理命令"><a href="#用户组管理命令" class="header-anchor">#</a> 用户组管理命令</h2> <h5 id="groupadd新增组"><a href="#groupadd新增组" class="header-anchor">#</a> groupadd新增组</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">groupadd</span> zs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="groupdel删除组"><a href="#groupdel删除组" class="header-anchor">#</a> groupdel删除组</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">groupdel</span> zs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="groupmod修改组"><a href="#groupmod修改组" class="header-anchor">#</a> groupmod修改组</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#groupmod -n 新组名 旧组名</span>
<span class="token function">groupmod</span> <span class="token parameter variable">-n</span> zhangsan zs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="cat-etc-group查看创建类哪些组"><a href="#cat-etc-group查看创建类哪些组" class="header-anchor">#</a> cat /etc/group查看创建类哪些组</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /etc/group
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="sudoers"><a href="#sudoers" class="header-anchor">#</a> sudoers</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 配置用户具有root </span>
root    <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
zhangsan	<span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>	NOPASSWD:ALL
<span class="token comment">## Allows members of the 'sys' group to run networking, software, </span>
<span class="token comment">## service management apps and more.</span>
<span class="token comment"># %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS</span>

<span class="token comment">## 配置用户组具有所有命令权限 只要属于wheel组的用户都可以使用sudo 执行命令</span>
%wheel  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="文件权限类命令"><a href="#文件权限类命令" class="header-anchor">#</a> 文件权限类命令</h2> <h3 id="文件属性和权限"><a href="#文件属性和权限" class="header-anchor">#</a> 文件属性和权限</h3> <p><img src="/docs/assets/img/fileAttribute.ce54f60e.png" alt="image-fileAttribute"></p> <ol><li><p>首位表示文件类型</p> <ul><li><p>~ 代表文件</p></li> <li><p>d 代表目录</p></li> <li><p>l 代表链接文档（link file）</p></li></ul></li> <li><p>1~3位确定属主对该文件拥有的权限--users</p></li> <li><p>4~6位确定属组对该文件拥有的权限 --group</p></li> <li><p>7~9位确定其他用户对该文件拥有的权限 --other</p></li></ol> <h5 id="rwx作用文件和目录的不同解释"><a href="#rwx作用文件和目录的不同解释" class="header-anchor">#</a> rwx作用文件和目录的不同解释</h5> <ol><li>作用到文件：</li></ol> <ul><li><strong>[r]</strong>：代表可读(read:可以读取，查看</li> <li><strong>[w]</strong>：代表可写(write):可以修改，但是不代表可以删除该文件，删除一个文件的前
提条件是对该文件所在的目录有写权限，才能删除该文件.</li> <li><strong>[x]</strong>：代表可执行(execute):可以被系统执行</li></ul> <ol><li>作用到目录：</li></ol> <ul><li><strong>[r]</strong>：代表可读(read:可以读取，ls查看目录内容</li> <li><strong>[w]</strong>：代表可写(wit:可以修改，目录内创建+删除+重命名目录</li> <li><strong>[x]</strong>：代表可执行(execute):可以进入该目录</li></ul> <h3 id="chmod修改权限"><a href="#chmod修改权限" class="header-anchor">#</a> chmod修改权限</h3> <ol><li><p>chmod {ugoa}{+-=}{rwx} 文件或目录</p> <ul><li>u 所有者 g 所有组  o 其他人  a  所有人</li> <li>+ 怎讲权限  -  减少权限  =  赋予权限</li> <li>rwx 权限标识</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># chmod u=rwx cangxiao</span>
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rwxrw---- <span class="token number">1</span> cangxiao mail <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">17</span> <span class="token number">11</span>:44 cangxiao
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># chmod u-x cangxiao</span>
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-rw---- <span class="token number">1</span> cangxiao mail <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">17</span> <span class="token number">11</span>:44 cangxiao
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>用数字更改权限</p> <p><strong>r=4 w=2 x=1   rwx=4+2+1=7</strong></p> <p><strong>-R</strong> 递归修改权限，修改文件夹下面所有文件和文件夹</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># chmod 760 cangxiao</span>
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rwxrw---- <span class="token number">1</span> cangxiao mail <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">17</span> <span class="token number">11</span>:44 cangxiao
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># chmod 660 cangxiao</span>
<span class="token punctuation">[</span>root@aliyun mail<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-rw---- <span class="token number">1</span> cangxiao mail <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">17</span> <span class="token number">11</span>:44 cangxiao
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <h3 id="chown改变所有者"><a href="#chown改变所有者" class="header-anchor">#</a> chown改变所有者</h3> <p><strong>-R</strong> 递归修改所有者</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chown</span> <span class="token parameter variable">-R</span> cangxiao /test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="chgrp改变所有组"><a href="#chgrp改变所有组" class="header-anchor">#</a> chgrp改变所有组</h3> <p><strong>-R</strong> 递归修改所有组</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chgrp</span> <span class="token parameter variable">-R</span> cangxiao /test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="搜索查找命令"><a href="#搜索查找命令" class="header-anchor">#</a> 搜索查找命令</h2> <h3 id="find"><a href="#find" class="header-anchor">#</a> find</h3> <p>find [目录] [选项]</p> <p>-name 按照指定文件名查找</p> <p>-user 查找属于指定用户的文件</p> <p>-size 安装指定大小查找文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">find</span> /root <span class="token parameter variable">-name</span> a.txt
<span class="token function">find</span> /root <span class="token parameter variable">-user</span> zhangsan
<span class="token comment">#按大小查找，没有等于</span>
<span class="token function">find</span> /root <span class="token parameter variable">-size</span> +2M
<span class="token function">find</span> /root <span class="token parameter variable">-size</span> <span class="token parameter variable">-2M</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="locate"><a href="#locate" class="header-anchor">#</a> locate</h3> <p>指令利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件。Locate指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate时刻。</p> <ol><li><p>基本语法</p> <p><code>locate搜索文件</code></p></li> <li><p>由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库。</p></li> <li><p>案例实操</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>updatedb
<span class="token function">locate</span> tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h3 id="grep"><a href="#grep" class="header-anchor">#</a> grep</h3> <p>grep 选项 查找内容 查找文件</p> <p>-n 显示匹配行及行号</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">grep</span> <span class="token parameter variable">-n</span> linux a.txt

<span class="token function">wc</span> test.txt
<span class="token comment"># 输出结果</span>
<span class="token number">7</span>     <span class="token number">8</span>     <span class="token number">70</span>     test.txt
<span class="token comment"># 行数 单词数 字节数 文件名</span>

<span class="token function">grep</span> <span class="token parameter variable">-n</span> linux a.txt <span class="token operator">|</span> <span class="token function">wc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="压缩解压命令"><a href="#压缩解压命令" class="header-anchor">#</a> 压缩解压命令</h2> <h3 id="gzip-gunzip压缩"><a href="#gzip-gunzip压缩" class="header-anchor">#</a> gzip/gunzip压缩</h3> <ol><li>只能压缩文件，不能压缩目录</li> <li>不保留源文件</li> <li>同时多个文件会产生多个压缩包</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># gzip a.txt</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">606</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">11</span>:43 a.txt.gz
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># gunzip a.txt.gz</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">957</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">11</span>:43 a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="zip-unzip压缩"><a href="#zip-unzip压缩" class="header-anchor">#</a> zip/unzip压缩</h3> <p>保留源文件</p> <p>zip [选项] xxx.zip 压缩内容</p> <p>unzip  [选项] xxx.zip</p> <p>-r 递归压缩，压缩目录</p> <p>-d 指定解压后文件存放目录</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># zip a.zip a.txt</span>
  adding: a.txt <span class="token punctuation">(</span>deflated <span class="token number">39</span>%<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-r--r--@ <span class="token number">1</span> root root   957B <span class="token number">12</span> <span class="token number">18</span> <span class="token number">11</span>:47 a.txt
-rw-r--r--@ <span class="token number">1</span> root root   742B <span class="token number">12</span> <span class="token number">18</span> <span class="token number">11</span>:49 a.zip
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># zip -r a.zip a/</span>
  adding: a/ <span class="token punctuation">(</span>stored <span class="token number">0</span>%<span class="token punctuation">)</span>
  adding: a/a.zip <span class="token punctuation">(</span>stored <span class="token number">0</span>%<span class="token punctuation">)</span>
  adding: a/a.txt <span class="token punctuation">(</span>deflated <span class="token number">39</span>%<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># ll</span>
drwxr-xr-x@  <span class="token number">4</span> root root   128B <span class="token number">12</span> <span class="token number">18</span> <span class="token number">11</span>:49 a
-rw-r--r--@  <span class="token number">1</span> root root   <span class="token number">1</span>.7K <span class="token number">12</span> <span class="token number">18</span> <span class="token number">11</span>:49 a.zip
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># ll unzip -d a/ a.zip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="tar打包"><a href="#tar打包" class="header-anchor">#</a> tar打包</h3> <p>tar [选项] xxx.tar.gz 将要打包的内容</p> <p>**-c：**产生.tar打包文件</p> <p>**-v：**显示详细信息</p> <p>**-f：**指定压缩后的文件名 <strong>一般放最后</strong></p> <p>**-z：**打包同时压缩</p> <p>**-x：**解包.tar文件</p> <p>**-C：**解压到指定目录</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun test<span class="token punctuation">]</span><span class="token comment"># tar -zvcf temp.tar.gz a.txt b.txt</span>
a.txt
b.txt
<span class="token punctuation">[</span>root@aliyun test<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">16</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">957</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">11</span>:43 a.txt
-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">25</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">12</span>:01 b.txt
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">750</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">12</span>:16 temp.tar.gz
<span class="token punctuation">[</span>root@aliyun test<span class="token punctuation">]</span><span class="token comment"># tar -zxvf temp.tar.gz  -C ../test/</span>
a.txt
b.txt
<span class="token punctuation">[</span>root@aliyun test<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">957</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">11</span>:43 a.txt
-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">25</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">12</span>:01 b.txt
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">750</span> <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">12</span>:16 temp.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="磁盘管理命令"><a href="#磁盘管理命令" class="header-anchor">#</a> 磁盘管理命令</h2> <h3 id="du-磁盘占用"><a href="#du-磁盘占用" class="header-anchor">#</a> du 磁盘占用</h3> <p>du 查看文件和目录占用磁盘空间</p> <p>du：disk usage 磁盘占用</p> <p>du 目录/文件</p> <p>-h：以K、M、G为单位提高可读性</p> <p>-a：不仅查看子目录大小，还要包括文件</p> <p>-c：显示所有文件和子目录大小总和</p> <p>-s：只显示总和</p> <p><code>--max-depth=n</code>：指定统计子目录的深度为第n层</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># du -sh /</span>
<span class="token number">2</span>.3G	/
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># du -sh /root</span>
210M	/root
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># du -sh</span>
44K	<span class="token builtin class-name">.</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># du --max-depth=1 -ah</span>
24K	./code
16K	./test
44K	<span class="token builtin class-name">.</span>
<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="df磁盘空余空间"><a href="#df磁盘空余空间" class="header-anchor">#</a> df磁盘空余空间</h3> <p>-h：以K、M、G为单位提高可读性</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># df -h</span>
文件系统        容量  已用  可用 已用% 挂载点
/dev/vda1        59G  <span class="token number">2</span>.3G   55G    <span class="token number">5</span>% /
devtmpfs        <span class="token number">1</span>.8G     <span class="token number">0</span>  <span class="token number">1</span>.8G    <span class="token number">0</span>% /dev
tmpfs           <span class="token number">1</span>.8G     <span class="token number">0</span>  <span class="token number">1</span>.8G    <span class="token number">0</span>% /dev/shm
tmpfs           <span class="token number">1</span>.8G  444K  <span class="token number">1</span>.8G    <span class="token number">1</span>% /run
tmpfs           <span class="token number">1</span>.8G     <span class="token number">0</span>  <span class="token number">1</span>.8G    <span class="token number">0</span>% /sys/fs/cgroup
tmpfs           361M     <span class="token number">0</span>  361M    <span class="token number">0</span>% /run/user/0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="lsblk设备挂在情况"><a href="#lsblk设备挂在情况" class="header-anchor">#</a> lsblk设备挂在情况</h3> <p>-f：查看详细设备挂在情况，显示文件系统信息</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
vda    <span class="token number">253</span>:0    <span class="token number">0</span>  60G  <span class="token number">0</span> disk
└─vda1 <span class="token number">253</span>:1    <span class="token number">0</span>  60G  <span class="token number">0</span> part /

<span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
vda
└─vda1 ext4         1114fe9e-2309-4580-b183-d778e6d97397 /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="mount-umount挂在-卸载"><a href="#mount-umount挂在-卸载" class="header-anchor">#</a> mount/umount挂在/卸载</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查看挂载卸载信息</span>
<span class="token function">cat</span> /etc/fstab
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="fdisk-分区"><a href="#fdisk-分区" class="header-anchor">#</a> fdisk 分区</h3> <p>fdisk -l 查看磁盘分区详情</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@aliyun opt<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

磁盘 /dev/vda：64.4 GB, <span class="token number">64424509440</span> 字节，125829120 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x000b2d99

   设备 Boot      Start         End      Blocks   Id  System
/dev/vda1   *        <span class="token number">2048</span>   <span class="token number">125821079</span>    <span class="token number">62909516</span>   <span class="token number">83</span>  Linux
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="扩展的磁盘分区"><a href="#扩展的磁盘分区" class="header-anchor">#</a> 扩展的磁盘分区</h3> <h4 id="fdisk-添加新的磁盘分区"><a href="#fdisk-添加新的磁盘分区" class="header-anchor">#</a> fdisk 添加新的磁盘分区</h4> <p>n 添加新的分区</p> <p>p 选择主分区（e：扩展分区）</p> <h4 id="mkfs-创建文件系统"><a href="#mkfs-创建文件系统" class="header-anchor">#</a> mkfs 创建文件系统</h4> <p>-t 指定当前文件系统类型</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkfs</span> <span class="token parameter variable">-t</span> xfs /dev/sdb1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="mount挂载到分区"><a href="#mount挂载到分区" class="header-anchor">#</a> mount挂载到分区</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mount</span> /dev/sdb1 /home/cangxiao
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="umount卸载分区"><a href="#umount卸载分区" class="header-anchor">#</a> umount卸载分区</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>umount/dev/sdb1
<span class="token comment">#或</span>
<span class="token function">umount</span> /home/cangxiao
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="进程管理命令"><a href="#进程管理命令" class="header-anchor">#</a> 进程管理命令</h2> <h3 id="ps-查看当前系统集成状态"><a href="#ps-查看当前系统集成状态" class="header-anchor">#</a> ps 查看当前系统集成状态</h3> <blockquote><p>ps aux|grep xxx 查看系统中所有进程</p> <p>ps -ef|grep xxx 可以查看字符进程之间的关系</p></blockquote> <p>**a：**的列出带有终端的所有用户的进程</p> <p>**x：**列出当前用户的所有进程，包括没有终端的进程</p> <p>**u：**的面向用户友好的显示风格</p> <p>**-e：**日列出所有进程</p> <p>**-u：**内列出某个用户关联的所有进程</p> <p>**-f：**和显示完整格式的进程列表</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux|less</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps aux|grep redis</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps -ef|grep redis</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps -ef|less</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps -ef|grep sshd</span>
root      <span class="token number">1159</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">11</span>月22 ?      00:00:01 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root     <span class="token number">25402</span>  <span class="token number">1159</span>  <span class="token number">0</span> <span class="token number">21</span>:46 ?        00:00:00 sshd: root@pts/0
root     <span class="token number">25608</span> <span class="token number">25408</span>  <span class="token number">0</span> <span class="token number">21</span>:50 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd <span class="token comment">#当前命令的进程</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="/docs/assets/img/ps_aux.6559ee63.png" alt="ps_aux"></p> <ul><li>USER：该进程属于那个使用者账号的</li> <li>PID ：该 进程 的号码</li> <li>%CPU：该 进程 使用掉的 CPU 资源百分比</li> <li>%MEM：该 进程 所占用的物理内存百分比</li> <li>VSZ ：该 进程 使用掉的虚拟内存量 (Kbytes)</li> <li>RSS ：该 进程 占用的固定的内存量 (Kbytes)</li> <li>TTY ：该 进程 是在那个终端机上面运作，若与终端机无关，则显示 ?，另外， tty1是图形化终端，tt2-tty6 本地字符界面终端，若为 pts/0-255代表虚拟终端 。</li> <li>STAT：该程序目前的状态，主要的状态有
<ul><li>R ：运行状态</li> <li>S ：睡眠状态，但可被某些讯号 (signal) 唤醒。</li> <li>T ：暂停状态</li> <li>Z ：该程序应该已经终止，但是其父程序却无法正常的终止他，造成 zombie (疆尸) 程序的状态</li> <li>s：包含子进程</li> <li>l：多线程</li> <li>+：前台显示</li></ul></li> <li>START：该进程被触发启动的时间</li> <li>TIME ：该进程实际使用 CPU 运作的时间</li> <li>COMMAND：该程序的实际指令</li></ul> <h3 id="终止进程"><a href="#终止进程" class="header-anchor">#</a> 终止进程</h3> <p>kill [选项] 进程ID   终止当前ID进程</p> <p>killall 进程名称 通过进程名称终止进程，支持通配符，终止所有相关进程</p> <p>**-9：**强迫进程立即终止</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>cangxiao@aliyun ~<span class="token punctuation">]</span>$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> sshd
root      <span class="token number">1159</span>     <span class="token number">1</span>  <span class="token number">0</span> Nov22 ?        00:00:01 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root     <span class="token number">25402</span>  <span class="token number">1159</span>  <span class="token number">0</span> <span class="token number">21</span>:46 ?        00:00:00 sshd: root@pts/0
cangxiao <span class="token number">25728</span> <span class="token number">25700</span>  <span class="token number">0</span> <span class="token number">21</span>:52 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
<span class="token punctuation">[</span>cangxiao@aliyun ~<span class="token punctuation">]</span>$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> sshd <span class="token comment">#新开窗口登录新用户</span>
root      <span class="token number">1159</span>     <span class="token number">1</span>  <span class="token number">0</span> Nov22 ?        00:00:01 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root     <span class="token number">25402</span>  <span class="token number">1159</span>  <span class="token number">0</span> <span class="token number">21</span>:46 ?        00:00:00 sshd: root@pts/0
root     <span class="token number">25847</span>  <span class="token number">1159</span>  <span class="token number">0</span> <span class="token number">21</span>:53 ?        00:00:00 sshd: cangxiao <span class="token punctuation">[</span>priv<span class="token punctuation">]</span> <span class="token comment">#权限分离，特权监视</span>
cangxiao <span class="token number">25852</span> <span class="token number">25847</span>  <span class="token number">0</span> <span class="token number">21</span>:54 ?        00:00:00 sshd: cangxiao@pts/1
cangxiao <span class="token number">26128</span> <span class="token number">25700</span>  <span class="token number">0</span> <span class="token number">21</span>:59 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
<span class="token punctuation">[</span>cangxiao@aliyun ~<span class="token punctuation">]</span>$ <span class="token function">kill</span> <span class="token number">25852</span> <span class="token comment">#终止一个进程</span>
<span class="token punctuation">[</span>cangxiao@aliyun ~<span class="token punctuation">]</span>$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> sshd
root      <span class="token number">1159</span>     <span class="token number">1</span>  <span class="token number">0</span> Nov22 ?        00:00:01 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root     <span class="token number">25402</span>  <span class="token number">1159</span>  <span class="token number">0</span> <span class="token number">21</span>:46 ?        00:00:00 sshd: root@pts/0
cangxiao <span class="token number">26167</span> <span class="token number">25700</span>  <span class="token number">0</span> <span class="token number">21</span>:59 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># kill 1159  #终止守护进程sshd, 无法再通过ssh登录服务器</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># ps -ef|grep sshd</span>
root     <span class="token number">25402</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">21</span>:46 ?        00:00:00 sshd: root@pts/0
root     <span class="token number">26275</span> <span class="token number">25408</span>  <span class="token number">0</span> <span class="token number">22</span>:01 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># systemctl start sshd  #重新启动sshd服务</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="pstree查看进程树"><a href="#pstree查看进程树" class="header-anchor">#</a> pstree查看进程树</h3> <p>**-p：**显示进程ID</p> <p>**-u：**显示进程所属用户</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> pstree

<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -p|less</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># pstree -u |less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="top实时监控进程状态"><a href="#top实时监控进程状态" class="header-anchor">#</a> top实时监控进程状态</h3> <p>参数选项：</p> <p>**-d：**秒数指定top命令每隔几秒更新。默认是3秒在top命令的交互模式当中可以执行的命令；</p> <p>**-i：**使top不显示任何闲置或者僵死进程；</p> <p>**-p：**中通过指定监控进程D来仅仅监控某个进程的状态</p> <p>操作命令：</p> <p>**P：**以CPU使用率排序，默认就是此项</p> <p>**M：**以内存的使用率排序</p> <p>**N：**以PID排序</p> <p>**q：**退出top</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># top</span>
<span class="token function">top</span> - <span class="token number">22</span>:25:45 up <span class="token number">2</span> min,  <span class="token number">1</span> user,  load average: <span class="token number">0.01</span>, <span class="token number">0.01</span>, <span class="token number">0.01</span>
Tasks:  <span class="token number">83</span> total,   <span class="token number">1</span> running,  <span class="token number">82</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie
%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">1.5</span> us,  <span class="token number">1.2</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">97.3</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st
KiB Mem <span class="token builtin class-name">:</span>  <span class="token number">3688724</span> total,  <span class="token number">3371672</span> free,   <span class="token number">124272</span> used,   <span class="token number">192780</span> buff/cache
KiB Swap:        <span class="token number">0</span> total,        <span class="token number">0</span> free,        <span class="token number">0</span> used.  <span class="token number">3343188</span> avail Mem

  PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
    <span class="token number">1</span> root      <span class="token number">20</span>   <span class="token number">0</span>   <span class="token number">43532</span>   <span class="token number">3832</span>   <span class="token number">2584</span> S   <span class="token number">0.0</span>  <span class="token number">0.1</span>   <span class="token number">0</span>:01.13 systemd
 <span class="token number">1361</span> root      <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">161880</span>   <span class="token number">2200</span>   <span class="token number">1588</span> R   <span class="token number">0.3</span>  <span class="token number">0.1</span>   <span class="token number">0</span>:00.02 <span class="token function">top</span>
 
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># top -d 1 -i 一秒更新一次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="解释"><a href="#解释" class="header-anchor">#</a> 解释：</h4> <ul><li>top - 22:25:45当前系统时间,</li> <li>2 min系统已经运行了2分钟,</li> <li>1 user用户登录数，</li> <li>load average:  0.01, 0.01, 0.01三个数代表过去1分钟、5分钟、15分钟系统平均负载</li> <li>Tasks:  83 total总进程数，</li> <li>1 running正在运行的进程数,  R状态</li> <li>82 sleeping睡眠的进程数, S状态</li> <li>0 stopped停止的进程数,  T状态</li> <li>0 zombie冻结进程数, Z状态</li> <li>Cpu(s): 1.5%us用户进程占用CPU百分比,</li> <li>0.1%sy系统进程占用CPU百分比,</li> <li>0.0%ni用户进程空间内改变过优先级的进程占用CPU百分比,</li> <li>97.3%id空闲CPU百分比, 0.0%wa[等待输入输出的CPU时间百分比,</li> <li>0.0 wa wait,等待IO的CPU时间百分比</li> <li>0.0%hi  硬件中断服务请求的CPU时间百分比</li> <li>0.0%si, 软件中断服务请求的CPU时间百分比</li> <li>0.0 st 被虚拟化设备的CPU时间百分比</li> <li>Mem:3688724 total物理内存总量, 单位KB</li> <li>124272 used使用的物理内存总量,</li> <li>3371672 free空闲内存总量,</li> <li>192780 buff/cache用作内核缓存的内存量</li> <li>Swap: 0 total交换区总量,单位KB</li> <li>0 used使用的交换区总量,</li> <li>0 free空闲交换区总量</li> <li>3343188 avail Mem缓冲的交换区总量</li></ul> <h3 id="netstatl显示网络状态和端口信息"><a href="#netstatl显示网络状态和端口信息" class="header-anchor">#</a> netstatl显示网络状态和端口信息</h3> <blockquote><p>netstat -anp|grep 进程号    查看进程网络信息</p> <p>netstat -nlp|grep 端口号    查看网络端口占用情况</p></blockquote> <p><strong>-a：</strong> 显示所有正在监听（listen）和为再监听的套接字（socket）</p> <p>**-n：**拒绝显示别名，能显示数字的全部转化成数字</p> <p>**-l：**仅列出在监听的服务状态</p> <p>**-p：**显示那个进程在调用</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># netstat -anp|less</span>
Active Internet connections <span class="token punctuation">(</span>servers and established<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1396</span>/sshd
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:8888            <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1410</span>/python3
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">172.22</span>.31.194:57504     <span class="token number">100.100</span>.30.26:80        ESTABLISHED <span class="token number">1272</span>/AliYunDun
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">172.22</span>.31.194:41274     <span class="token number">106.75</span>.114.217:443      TIME_WAIT   -
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">172.22</span>.31.194:48292     <span class="token number">100.100</span>.0.70:443        TIME_WAIT   -
tcp        <span class="token number">0</span>     <span class="token number">88</span> <span class="token number">172.22</span>.31.194:22        <span class="token number">119.123</span>.206.81:36089    ESTABLISHED <span class="token number">29013</span>/sshd: root@pt
udp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:68              <span class="token number">0.0</span>.0.0:*                           <span class="token number">981</span>/dhclient
udp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:323           <span class="token number">0.0</span>.0.0:*                           <span class="token number">599</span>/chronyd
udp6       <span class="token number">0</span>      <span class="token number">0</span> ::1:323                 :::*                                <span class="token number">599</span>/chronyd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>Proto：协议</li> <li>Recv-Q：连接到当前socket的用户程序还没有拷贝的字节数，已经接受但还没拷贝出来</li> <li>Send-Q：已经发出去但远程主机还没有确认收到的字节数，可能丢失需要重新发送</li> <li>Local Address：本地地址（0.0.0.0:22 监听本地所有地址对应的端口）</li> <li>Foreign Address：远端地址</li></ul> <h2 id="系统定时任务"><a href="#系统定时任务" class="header-anchor">#</a> 系统定时任务</h2> <h3 id="crontab服务管理"><a href="#crontab服务管理" class="header-anchor">#</a> crontab服务管理</h3> <p>五个 * 代表 分、时、天、月、星期</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl restart crond
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>**-e：**编辑crontab定时任务</p> <p>**-l：**查询crontab任务</p> <p>**-r：**删除当前用户所有crontab任务</p> <p><strong>-u</strong>&lt;用户名称&gt;：指定要设定计时器的用户名称。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>*/1 * * * * <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello,world&quot;</span> <span class="token operator">&gt;&gt;</span> /opt/hello.txt  <span class="token comment">#每分钟追加一句hello world到hello.txt中</span>
*/1 * * * * <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span> <span class="token string">&quot; hello,world&quot;</span> <span class="token operator">&gt;&gt;</span> /opt/hello.txt  <span class="token comment">#每分钟追加一句hello world到hello.txt中，并在前面打印当前时间</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="软件包管理"><a href="#软件包管理" class="header-anchor">#</a> 软件包管理</h2> <h3 id="rpm"><a href="#rpm" class="header-anchor">#</a> RPM</h3> <p>RPM（ReHat Package Manager）RedHat软件包管理工具，</p> <h4 id="rpm-查询命令"><a href="#rpm-查询命令" class="header-anchor">#</a> rpm 查询命令</h4> <p>rpm -qa 查询所有安装的 rpm 包</p> <p>rpm -qi 查询所rpm软件包的详细信息</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span>  redis
<span class="token function">rpm</span> <span class="token parameter variable">-qi</span> redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="rpm安装命令"><a href="#rpm安装命令" class="header-anchor">#</a> rpm安装命令</h4> <p>rpm -ivh RPM包全名</p> <p>-i：install 安装</p> <p>-v：--verbose 显示详细信息</p> <p>-h：--hash进度条</p> <p>--nodeps：安装前不检查依赖</p> <h4 id="rpm卸载命令"><a href="#rpm卸载命令" class="header-anchor">#</a> rpm卸载命令</h4> <p>rpm -e RPM软件包 （卸载软包）</p> <p>rpm -e --nodeps 软件包（卸载时不检查依赖，其它使用此软件包的软件可能无法正常工作）</p> <h3 id="yum仓库配置"><a href="#yum仓库配置" class="header-anchor">#</a> YUM仓库配置</h3> <blockquote><p>YUM(全称为Yellow dog Updater,Modified)是一个在Fedora和RedHat以及CentOS中的Shell前端软件包管理器。基于PM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装，</p></blockquote> <p>**-y：**不询问直接安装</p> <p>常用参数：</p> <p>**install：**安装pm软件包</p> <p>**update：**更新rpm软件包</p> <p>**check-update：**检查是否有可用的更新rpm软件</p> <p>**remove：**删除指定的rpm软件包</p> <p>**list：**显示软件包信息</p> <p>**clean：**清理yum过期的缓存</p> <p>**deplist：**显示yum软件包的所有依赖关系</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum -y install java-1.8.0-openjdk.x86_64</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#java -version</span>
openjdk version <span class="token string">&quot;1.8.0_352&quot;</span>
OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_352-b08<span class="token punctuation">)</span>
OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.352</span>-b08, mixed mode<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#rpm -qi java-1.8.0-openjdk-1.8.0.352.b08-2.el7_9.x86_64 #显示详细安装信息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>yum配置文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment"># less /etc/yum.repos.d/CentOS-Base.repo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="修改yum镜像源"><a href="#修改yum镜像源" class="header-anchor">#</a> 修改YUM镜像源</h4> <p>YUM源为国内镜像的网站，比如网易163，aliyun等</p> <ol><li><p>安装wget,wget用来从指定的URL下载文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum install wget</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在/etc/yum.repos.d/目录下，备份默认的repos文件，</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum.repos.d]pwd/etc/yum.repos.d</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum.repos.d]cp dentos-Base.repoCentoS-Baserepo.backup</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>下载网易163或者是aliyun的repos文件，</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum.repos.d]wgetehttp://mirrors.aliyun.com/repo/Centos-7.repo  #阿里云</span>
<span class="token punctuation">[</span>root@aliyun ~<span class="token punctuation">]</span><span class="token comment">#yum.repos.d]wgethttp://mirrors.163.com/.help/Centos7-Base-163.repo  #163</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>复制到对应目录替换原镜像源</p></li></ol></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cangxiaocoder/docs/edit/main/docs/Linux/Linux基础操作.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/docs/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/docs/pages/cab1a1/"><div>
            Redis缓存一致性
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/docs/pages/e4e8ac/"><div>
            Redis实战
            <!----></div></a> <span class="date">03-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/docs/pages/fdae73/"><div>
            Java中的锁
            <!----></div></a> <span class="date">03-13</span></dt></dl> <dl><dd></dd> <dt><a href="/docs/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>苍晓 | </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.869e6f5c.js" defer></script><script src="/docs/assets/js/2.2de16177.js" defer></script><script src="/docs/assets/js/5.4d185536.js" defer></script>
  </body>
</html>
